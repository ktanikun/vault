
# BIT


数列 $A_i$ に対して, 

```c++
int sum(int x){
	int ans = 0;
	for (int i=x;i>0;i=(i&(i-1))){
		ans += A[i-1];
	}
	return 0;
}
```

```c++
int add(int x, int d){
	for (int i=x;i<N;i=(i|(i-1))){
		A[i] += d;
	}
}
```

# 221E

まず $\{A_i\}$ を座標圧縮したとする

通り数は $2^{r-l-1}$  なので , $$
S = \sum_{A_l\leqq A_r} 2^{r-l-1} = \sum_{r} 2^{r-1} \sum_{l : A_l\leqq A_r} 2^{-l}
$$

$i$ に $2^{-i}$ を割り当てる


分数は mod の割り算で